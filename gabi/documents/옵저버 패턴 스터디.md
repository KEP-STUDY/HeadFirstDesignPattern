# 옵저버 패턴

### 기상 모니터링 애플리케이션



<img src="/Users/gabi.def/Library/Application Support/typora-user-images/스크린샷 2021-04-24 오후 4.33.55.png" alt="스크린샷 2021-04-24 오후 4.33.55" style="zoom:50%;" />



#### 정리하고 넘어가자!

지금 알고있는것들

1. WeatherData 에서 3가지 측정값(온도, 습도, 기압)을 알아내기 위한 getter메소드가 있다. 

2. 새로운 기상 측정 데이터가 나올때마다 measurementsChanged()메소드가 호출된다.

   ㄴ> 아직은 이것이 어떻게 호출되는지는 모르지만 어떤식으로든 호출된다는 것이 중요!

3. 기상데이터를 사용하는 세개의 디스플레이 항목을 구현해야된다.(현재조건, 기상통계, 기상예보)

   ㄴ> 새로운 측정값이 들어올때마다 디스플레이 갱신

4. 시스템 확장이 가능해야된다.



<img src="/Users/gabi.def/Library/Application Support/typora-user-images/Notification_Center.png" alt="Notification_Center" style="zoom:50%;" />



#### 옵저버 패턴의 정의

: 한 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체들에게 연락이 가고 자동으로 내용이 갱신되는 방식으로 일대다(one-to-many) 의존성을 정의

<img src="/Users/gabi.def/Library/Application Support/typora-user-images/스크린샷 2021-04-29 오전 11.39.22.png" alt="스크린샷 2021-04-29 오전 11.39.22" style="zoom:50%;" />



#### 느슨한 결합(Loose Coupling)

: 두 객체가 느슨하게 결합되었다는 것은 서로에 대해 잘 모른다. 옵저버패턴이 주제와 옵저버가 느슨하게 결합되어있다.

**[Why?]**

1. 주제가 옵저버에 대해서 아는것은 옵저버가 특정 인터페이스(이경우에는 옵저버 인터페이스)를 구현한다.

2. 옵저버는 언제든지 새로 추가할수 있다.주제가 옵저버 인터페이스 객체의 목록에만 의존하기 때문에
3. 새로운 형식의 옵저버를 추가하려고 할때도 주제를 전혀 변경할 ㅣㄹ요가 없다.
4. 주제와 옵저버는 서로 독립적으로 재사용 가능
5. 주제나 옵저버가 바뀌더라도 서로에게 영향을 미치지 않는다



> **디자인 원칙**
>
> 서로 상호작용을 하는 객체 사이에는 가능하면 느슨하게 결합하는 디자인을 사용해야 한다.
>
> -->변경사항이 생겨도 무난히 처리할수 있어야 하기 때문



#### 기상스테이션 설계

<img src="/Users/gabi.def/Library/Application Support/typora-user-images/스크린샷 2021-04-29 오후 1.39.35.png" alt="스크린샷 2021-04-29 오후 1.39.35" style="zoom:50%;" />